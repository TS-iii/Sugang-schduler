{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\ReactProject\\\\sugang-scheduler\\\\sugang-frontend\\\\src\\\\containers\\\\write\\\\WriteContainer.js\";\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport WriteSchedule from '../../component/write/WriteSchedule';\nimport { register } from '../../modules/write';\nimport Node, { lookschedule, insertTable, composeTree, search } from '../../lib/tree/tree';\n\nconst WriteContainer = ({\n  history\n}) => {\n  const dispatch = useDispatch();\n  const {\n    type1,\n    type2,\n    type3\n  } = useSelector(({\n    write\n  }) => ({\n    type1: write.type1,\n    type2: write.type2,\n    type3: write.type3\n  })); // write 가 관리하고 있는 상태를 불러와서 write에 저장\n\n  const table = {\n    type1,\n    type2,\n    type3\n  }; // 1번 순회함.\n\n  useEffect(() => {\n    onCalculate();\n  }, [type1]);\n\n  const onCalculate = () => {\n    const root = composeTree('type1', table);\n    console.log(root.finalTable);\n\n    for (let i = 0; i < root.finalTable.length; i++) {\n      let n = root.finalTable[i];\n      console.log('--------%d번째 시간표----------', i + 1);\n\n      for (let j = 0; j < root.max; j++) {\n        console.log('%d:%s %s ', j + 1, n.data.classname, n.data.profess);\n        n = n.adault;\n      }\n\n      console.log('---------------------------');\n    }\n  };\n\n  const onFinal = ({\n    imp,\n    classname,\n    classtime,\n    profess,\n    classscore\n  }) => {\n    let type;\n    if (imp === '1') type = 'type1';else if (imp === '2') type = 'type2';else if (imp === '3') type = 'type3';\n    dispatch(register({\n      form: type,\n      value: {\n        classname,\n        classtime,\n        profess,\n        classscore\n      }\n    }));\n  };\n\n  return React.createElement(WriteSchedule, {\n    onFinal: onFinal,\n    onCalculate: onCalculate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  });\n};\n\nexport default WriteContainer; //시간표 변환\n// const classTimeMod=function(c){\n// let schedule={\n//     t1:[],\n//     t2:[],\n//     t3:[],\n//     t4:[],\n//     t5:[]\n// };\n// let n=-1;\n// let t=null;\n// for(let i=0;i<c.length;i++){\n//     if(n===3)       \n//         {\n//             n=2;\n//             continue;\n//         }\n//     if(n===2)\n//         {\n//             n=-1;\n//             continue;\n//         }\n//     if(c[i]===' ')\n//         continue;\n//     switch(c[i]){\n//         case '월':\n//             t='t1';\n//             break;\n//         case '화':\n//             t='t2';\n//             break;\n//         case '수':\n//             t='t3';\n//             break;\n//         case '목':\n//             t='t4';\n//             break;\n//         case '금':\n//             t='t5';\n//             break;    \n//         default:\n//             break;\n//     }\n//     if(c[i]>='A' && c[i]<='J')\n//         {   let b=c[i]-'A';\n//             b=(b+1)*3;\n//             schedule[t].push(b-1);\n//             schedule[t].push(b);\n//             schedule[t].push(b+1);\n//             continue;\n//         }\n//     else if(c[i]>='1' && c[i]<='9')\n//         {   \n//             if(c[i+1]>='0' && c[i+1]<='9')\n//                 {\n//                     n=1;\n//                     continue;\n//                 }\n//             else if(n===1)\n//                 {\n//                     let b=20+(c[i]-'0');\n//                     n=-1;\n//                     if(c[i+1]==='.')\n//                         {\n//                             n=3;\n//                             schedule[t].push(b+1);\n//                         }\n//                     else\n//                         schedule[t].push(b);\n//                 }\n//             else {\n//                 if(c[i+1]==='.')\n//                     {  n=3;\n//                         schedule[t].push((c[i]-'0')+1);\n//                         }\n//                 else\n//                     schedule[t].push(c[i]-'0');\n//             }\n//         }\n// }//for문 끝\n// return schedule;\n// };","map":{"version":3,"sources":["C:/Users/user/Desktop/ReactProject/sugang-scheduler/sugang-frontend/src/containers/write/WriteContainer.js"],"names":["React","useState","useCallback","useEffect","useSelector","useDispatch","withRouter","WriteSchedule","register","Node","lookschedule","insertTable","composeTree","search","WriteContainer","history","dispatch","type1","type2","type3","write","table","onCalculate","root","console","log","finalTable","i","length","n","j","max","data","classname","profess","adault","onFinal","imp","classtime","classscore","type","form","value"],"mappings":"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","sourcesContent":["\r\n\r\nimport React , {useState,useCallback,useEffect} from 'react';\r\nimport {useSelector,useDispatch} from 'react-redux';\r\nimport {withRouter} from 'react-router-dom';\r\nimport WriteSchedule from '../../component/write/WriteSchedule';\r\n\r\nimport {register} from '../../modules/write';\r\n\r\nimport Node ,{lookschedule,insertTable,composeTree ,search} from '../../lib/tree/tree';\r\n\r\n\r\n\r\nconst WriteContainer=({history})=>{\r\n\r\n     const dispatch = useDispatch();\r\n\r\n     const {type1,type2,type3}=useSelector(({write})=>({\r\n\r\n        type1:write.type1,\r\n        type2:write.type2,\r\n        type3:write.type3,\r\n     }\r\n     ));  // write 가 관리하고 있는 상태를 불러와서 write에 저장\r\n\r\n\r\n     const table={\r\n         type1,\r\n         type2,\r\n         type3\r\n     };\r\n\r\n     \r\n// 1번 순회함.\r\n\r\n\r\n\r\n\r\nuseEffect(()=>{onCalculate()},[type1]);\r\n\r\nconst onCalculate=()=>{\r\n\r\n   const root= composeTree('type1',table);\r\n    \r\n   console.log(root.finalTable);\r\n\r\n   for(let i=0;i<root.finalTable.length;i++)\r\n   {\r\n       let n=root.finalTable[i];\r\n\r\n       console.log('--------%d번째 시간표----------',i+1);\r\n        for(let j=0;j<root.max;j++)\r\n        {   \r\n           \r\n            console.log('%d:%s %s ',j+1 ,n.data.classname,n.data.profess);\r\n            n=n.adault;\r\n\r\n        }\r\n        console.log('---------------------------');\r\n   }\r\n\r\n\r\n\r\n\r\n};\r\n\r\nconst onFinal=({imp,classname,classtime,profess,classscore})=>{\r\n\r\n        let type;\r\n\r\n        if(imp==='1')\r\n            type='type1';\r\n        else if(imp==='2')\r\n            type='type2';\r\n        else if(imp==='3')\r\n            type='type3';\r\n\r\n       \r\n        \r\n        dispatch(\r\n            register({\r\n                form:type,\r\n                value:{\r\n                  classname,\r\n                  classtime,\r\n                  profess,\r\n                  classscore,\r\n                 }\r\n                \r\n            })\r\n        );\r\n        \r\n      \r\n    \r\n    };\r\n\r\n\r\n\r\n\r\n     return (\r\n\r\n        <WriteSchedule \r\n        \r\n        onFinal={onFinal}\r\n        onCalculate={onCalculate}\r\n        />\r\n\r\n     );\r\n\r\n};\r\n\r\n\r\n\r\nexport default WriteContainer;\r\n\r\n\r\n\r\n\r\n//시간표 변환\r\n// const classTimeMod=function(c){\r\n\r\n// let schedule={\r\n\r\n//     t1:[],\r\n//     t2:[],\r\n//     t3:[],\r\n//     t4:[],\r\n//     t5:[]\r\n\r\n// };\r\n\r\n// let n=-1;\r\n// let t=null;\r\n\r\n// for(let i=0;i<c.length;i++){\r\n   \r\n//     if(n===3)       \r\n//         {\r\n//             n=2;\r\n//             continue;\r\n//         }\r\n    \r\n//     if(n===2)\r\n//         {\r\n//             n=-1;\r\n//             continue;\r\n//         }\r\n\r\n//     if(c[i]===' ')\r\n//         continue;\r\n\r\n//     switch(c[i]){\r\n\r\n//         case '월':\r\n//             t='t1';\r\n//             break;\r\n//         case '화':\r\n//             t='t2';\r\n//             break;\r\n//         case '수':\r\n//             t='t3';\r\n//             break;\r\n//         case '목':\r\n//             t='t4';\r\n//             break;\r\n//         case '금':\r\n//             t='t5';\r\n//             break;    \r\n        \r\n//         default:\r\n//             break;\r\n    \r\n//     }\r\n\r\n//     if(c[i]>='A' && c[i]<='J')\r\n//         {   let b=c[i]-'A';\r\n//             b=(b+1)*3;\r\n\r\n//             schedule[t].push(b-1);\r\n//             schedule[t].push(b);\r\n//             schedule[t].push(b+1);\r\n\r\n//             continue;\r\n//         }\r\n\r\n//     else if(c[i]>='1' && c[i]<='9')\r\n//         {   \r\n            \r\n//             if(c[i+1]>='0' && c[i+1]<='9')\r\n//                 {\r\n//                     n=1;\r\n//                     continue;\r\n//                 }\r\n//             else if(n===1)\r\n//                 {\r\n//                     let b=20+(c[i]-'0');\r\n//                     n=-1;\r\n\r\n//                     if(c[i+1]==='.')\r\n//                         {\r\n//                             n=3;\r\n//                             schedule[t].push(b+1);\r\n//                         }\r\n//                     else\r\n//                         schedule[t].push(b);\r\n                \r\n//                 }\r\n\r\n//             else {\r\n\r\n//                 if(c[i+1]==='.')\r\n//                     {  n=3;\r\n//                         schedule[t].push((c[i]-'0')+1);\r\n//                         }\r\n//                 else\r\n//                     schedule[t].push(c[i]-'0');\r\n//             }\r\n\r\n//         }\r\n\r\n    \r\n    \r\n\r\n\r\n// }//for문 끝\r\n\r\n\r\n// return schedule;\r\n\r\n// };"]},"metadata":{},"sourceType":"module"}