{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\ReactProject\\\\sugang-scheduler\\\\sugang-frontend\\\\src\\\\containers\\\\graph\\\\GraphContainer.js\";\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport Graph from '../../component/graph/Graph';\nimport { register } from '../../modules/write';\nimport Node, { lookschedule, insertTable, composeTree, search } from '../../lib/tree/tree';\nimport { tsConstructorType } from '../../../../../../../AppData/Local/Microsoft/TypeScript/3.7/node_modules/@babel/types/lib/index'; // 안겹친다는 가정이 필요\n// 안겹치고 이 함수를 사용하면 dst 시간표에 src가 추가됨. \n// 시간표와, 시간표에 넣을 과목을 dst, src 차례로 주면됨\n//const insertTable=function(dst,src)\n\nclass mNode {\n  constructor(list) {\n    this.children = [];\n    this.classlist = list;\n  }\n\n  insert(list) {\n    let node = new mNode(list);\n    this.children[this.children.length] = node;\n  }\n\n}\n\n;\n\nconst GraphContainer = () => {\n  const [TdrawList, setTdrawList] = useState([{\n    id: 1,\n    name: \"회로이론\"\n  }, {\n    id: 2,\n    name: \"알고리즘\"\n  }, {\n    id: 3,\n    name: \"논리회로\"\n  }]);\n  const [makingdrawList, setmakingdrawList] = useState([]);\n\n  const Delete = id => {\n    const aa = TdrawList.filter(e => e.id !== id);\n    setTdrawList(aa);\n  };\n\n  useEffect(() => {}, TdrawList); // const dispatch = useDispatch();\n\n  const {\n    type1,\n    type2,\n    type3\n  } = useSelector(({\n    write\n  }) => ({\n    type1: write.type1,\n    type2: write.type2,\n    type3: write.type3\n  }));\n  const Maintable = {\n    type1,\n    type2,\n    type3\n  }; // 배열로 시간표 리스트만 넘기면됨 \n\n  const makingDrawList = useCallback(arr => {\n    let makingTable = [];\n\n    for (let i = 0; i < arr.length; i++) {\n      // 한 과목씩 살펴봄\n      for (let j = 0; j < arr[i].classtime.keyword.length; j++) {\n        // 한 과목의 요일수\n        let day;\n\n        switch (arr[i].classtime.keyword[j]) {\n          case 't1':\n            day = 5;\n            break;\n\n          case 't2':\n            day = 24;\n            break;\n\n          case 't3':\n            day = 43;\n            break;\n\n          case 't4':\n            day = 62;\n            break;\n\n          case 't5':\n            day = 81;\n            break;\n\n          default:\n            break;\n        }\n\n        let dayarr = arr[i].classtime[arr[i].classtime.keyword[j]]; // 요일 배열\n\n        let timeleng = dayarr.length * 3.5;\n        let time = 9 + (dayarr[0] - 2) * 3.5;\n        makingTable.push({\n          x: day,\n          y: time,\n          ycolor: timeleng,\n          color: \"#CEF6F5\",\n          text: arr[i].classname\n        });\n      }\n    }\n\n    setmakingdrawList(makingTable);\n  }, [TdrawList]); //개수기반\n  //우선순위 1개수가 같으면 일단 그거 다출력\n\n  const Calculate = () => {\n    let finalrank = []; //최종 개수 기반 순위\n\n    const root1 = composeTree('type1', Maintable);\n    let maxrootlist = []; //개수 기반\n\n    for (let i = 0; i < root1.finalTable.length; i++) {\n      let n = root1.finalTable[i];\n\n      if (n.deep === root1.max) {\n        maxrootlist.push(n);\n      }\n    } //1 개수 같은것들끼리 모아둠  -> 또 경쟁\n\n\n    let maxroot = [];\n\n    for (let i = 0; i < maxrootlist.length; i++) {\n      let n = maxrootlist[i];\n      let list = [];\n\n      for (let j = 0; j < root1.max; j++) {\n        list.push(n);\n        n = n.adault;\n      }\n\n      let root = new mNode(list);\n      maxroot.push(root);\n      let root2 = composeTree('type2', Maintable, root.list);\n      let maxroot2list = [];\n\n      for (let j = 0; j < root2.finalTable.length; j++) {\n        let m = root2.finalTable[j];\n\n        if (m.deep === root2.max) {\n          maxroot2list.push(m);\n        }\n      }\n\n      for (let j = 0; j < maxroot2list.length; j++) {}\n    }\n  };\n\n  const onCalculate = () => {\n    const root = composeTree('type1', Maintable, []);\n    let maxScoreTable = [];\n    let maxTable = [];\n\n    for (let i = 0; i < root.finalTable.length; i++) {\n      let n = root.finalTable[i];\n\n      if (n.score === root.maxScore) {\n        maxScoreTable.push(n);\n      }\n\n      if (n.deep === root.max) {\n        maxTable.push(n);\n      }\n    }\n\n    console.log('&&&&&&&&&&&&&&&학점 우선 시간표&&&&&&&&&&&&&&');\n\n    for (let i = 0; i < maxScoreTable.length; i++) {\n      let n = maxScoreTable[i];\n      let k = n.deep;\n      console.log('--------%d번째 시간표----------', i + 1);\n\n      for (let j = 0; j < k; j++) {\n        console.log('%d:%s %s %d ', j + 1, n.data.classname, n.data.profess, n.data.classscore);\n        n = n.adault;\n      }\n\n      console.log('[총 %d학점]', root.maxScore);\n      console.log('---------------------------');\n    }\n\n    console.log('&&&&&&&&&&&&&&&과목개수 우선 시간표&&&&&&&&&&&&&&');\n\n    for (let i = 0; i < maxTable.length; i++) {\n      let n = maxTable[i];\n      let a = n.score;\n      console.log('--------%d번째 시간표----------', i + 1);\n\n      for (let j = 0; j < root.max; j++) {\n        console.log('%d:%s %s %d', j + 1, n.data.classname, n.data.profess, n.data.classscore);\n        n = n.adault;\n      }\n\n      console.log('[총%d학점]', a);\n      console.log('---------------------------');\n    }\n\n    let a = maxTable[0];\n    let bb = [];\n\n    for (let i = 0; i < root.max; i++) {\n      bb.push(a.data);\n      a = a.adault;\n    }\n\n    makingDrawList(bb);\n  };\n\n  return React.createElement(Graph, {\n    onCalculate: onCalculate,\n    TdrawList: TdrawList,\n    Delete: Delete,\n    makingdrawList: makingdrawList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306\n    },\n    __self: this\n  });\n};\n\nexport default GraphContainer;","map":{"version":3,"sources":["C:/Users/user/Desktop/ReactProject/sugang-scheduler/sugang-frontend/src/containers/graph/GraphContainer.js"],"names":["React","useState","useCallback","useEffect","useSelector","useDispatch","withRouter","Graph","register","Node","lookschedule","insertTable","composeTree","search","tsConstructorType","mNode","constructor","list","children","classlist","insert","node","length","GraphContainer","TdrawList","setTdrawList","id","name","makingdrawList","setmakingdrawList","Delete","aa","filter","e","type1","type2","type3","write","Maintable","makingDrawList","arr","makingTable","i","j","classtime","keyword","day","dayarr","timeleng","time","push","x","y","ycolor","color","text","classname","Calculate","finalrank","root1","maxrootlist","finalTable","n","deep","max","maxroot","adault","root","root2","maxroot2list","m","onCalculate","maxScoreTable","maxTable","score","maxScore","console","log","k","data","profess","classscore","a","bb"],"mappings":"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","sourcesContent":["\r\nimport React , {useState,useCallback,useEffect} from 'react';\r\nimport {useSelector,useDispatch} from 'react-redux';\r\nimport {withRouter} from 'react-router-dom';\r\nimport Graph from '../../component/graph/Graph';\r\n\r\nimport {register} from '../../modules/write';\r\n\r\nimport Node ,{lookschedule,insertTable,composeTree ,search} from '../../lib/tree/tree';\r\nimport { tsConstructorType } from '../../../../../../../AppData/Local/Microsoft/TypeScript/3.7/node_modules/@babel/types/lib/index';\r\n\r\n\r\n// 안겹친다는 가정이 필요\r\n// 안겹치고 이 함수를 사용하면 dst 시간표에 src가 추가됨. \r\n// 시간표와, 시간표에 넣을 과목을 dst, src 차례로 주면됨\r\n//const insertTable=function(dst,src)\r\n\r\nclass mNode{\r\n\r\n    children=[];\r\n    \r\n    constructor(list){\r\n\r\n        \r\n        this.classlist=list;\r\n\r\n    }\r\n \r\n    insert(list){\r\n        let node=new mNode(list);\r\n\r\n        this.children[this.children.length]=node;\r\n        \r\n\r\n    }\r\n\r\n\r\n};\r\n\r\n\r\n\r\nconst GraphContainer=()=>{\r\n\r\n\r\n    const [TdrawList,setTdrawList]=useState([{\r\n        id:1,\r\n        name:\"회로이론\"\r\n    \r\n    },{\r\n    \r\n        id:2,\r\n        name:\"알고리즘\"\r\n    },{\r\n        id:3,\r\n        name:\"논리회로\"\r\n    \r\n    }]);\r\n\r\n\r\n    const [makingdrawList,setmakingdrawList]=useState([]);\r\n\r\n\r\n    const Delete=(id)=>{\r\n\r\n       const  aa=TdrawList.filter(e=>(e.id!==id));\r\n       \r\n       setTdrawList(aa);\r\n          \r\n      };\r\n      \r\n      \r\n      useEffect(()=>{},TdrawList);\r\n    \r\n\r\n    // const dispatch = useDispatch();\r\n\r\n    const {type1,type2,type3}=useSelector(({write})=>({\r\n\r\n       type1:write.type1,\r\n       type2:write.type2,\r\n       type3:write.type3,\r\n    }\r\n    )); \r\n\r\n    const Maintable={\r\n        type1,type2,type3\r\n    };\r\n    \r\n\r\n\r\n\r\n\r\n    // 배열로 시간표 리스트만 넘기면됨 \r\n    const makingDrawList=useCallback((arr)=>{\r\n\r\n        let makingTable=[];\r\n\r\n        for(let i=0;i<arr.length;i++){  // 한 과목씩 살펴봄\r\n\r\n            for(let j=0;j<arr[i].classtime.keyword.length;j++){  // 한 과목의 요일수\r\n                \r\n                let day;\r\n\r\n                switch(arr[i].classtime.keyword[j]){\r\n                    case 't1': day=5; break;\r\n                    case 't2': day=24; break;\r\n                    case 't3': day=43; break;\r\n                    case 't4': day=62; break;\r\n                    case 't5': day=81; break;\r\n                    default: break;\r\n\r\n                }\r\n\r\n              \r\n\r\n              let dayarr=  arr[i].classtime[arr[i].classtime.keyword[j]]; // 요일 배열\r\n                \r\n              let timeleng=dayarr.length * 3.5;\r\n              let time=9+((dayarr[0]-2)*3.5);\r\n\r\n                makingTable.push({x:day,y:time,ycolor:timeleng,color:\"#CEF6F5\",text:arr[i].classname});\r\n            \r\n            }\r\n\r\n\r\n        }\r\n        \r\n        setmakingdrawList(makingTable);\r\n\r\n\r\n    },[TdrawList]);\r\n\r\n    \r\n    //개수기반\r\n    //우선순위 1개수가 같으면 일단 그거 다출력\r\n\r\n    const Calculate=()=>{\r\n\r\n        let finalrank=[]; //최종 개수 기반 순위\r\n\r\n\r\n        const root1=composeTree('type1',Maintable);\r\n\r\n        let maxrootlist=[];    //개수 기반\r\n\r\n        \r\n        for(let i=0;i<root1.finalTable.length;i++){\r\n\r\n            \r\n            let n=root1.finalTable[i];\r\n\r\n            if(n.deep===root1.max){\r\n\r\n                maxrootlist.push(n);\r\n            }\r\n\r\n        }\r\n\r\n\r\n        //1 개수 같은것들끼리 모아둠  -> 또 경쟁\r\n\r\n        let maxroot=[];\r\n\r\n        for(let i=0;i<maxrootlist.length;i++){\r\n            \r\n            let n=maxrootlist[i];\r\n            \r\n            let list=[];\r\n\r\n            for(let j=0;j<root1.max;j++){\r\n                \r\n                list.push(n);\r\n                \r\n                n=n.adault;\r\n            }\r\n            \r\n            let root=new mNode(list);\r\n            maxroot.push(root);\r\n\r\n            \r\n            let root2=composeTree('type2',Maintable,root.list);\r\n            let maxroot2list=[];\r\n            for(let j=0;j<root2.finalTable.length;j++){\r\n\r\n            \r\n                let m=root2.finalTable[j];\r\n    \r\n                if(m.deep===root2.max){\r\n    \r\n                    maxroot2list.push(m);\r\n                }\r\n    \r\n            }\r\n\r\n            for(let j=0;j<maxroot2list.length;j++){\r\n\r\n\r\n                \r\n                    \r\n\r\n\r\n            }\r\n            \r\n\r\n\r\n\r\n\r\n        }\r\n        \r\n        \r\n\r\n\r\n        \r\n\r\n        \r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    const onCalculate=()=>{\r\n        \r\n        const root= composeTree('type1',Maintable,[]);\r\n        \r\n         \r\n         let maxScoreTable=[];\r\n         let maxTable=[];\r\n     \r\n         for(let i=0;i<root.finalTable.length;i++){\r\n     \r\n             let n=root.finalTable[i];\r\n     \r\n            if(n.score===root.maxScore){\r\n     \r\n             maxScoreTable.push(n);\r\n     \r\n     \r\n            }    \r\n     \r\n     \r\n            if(n.deep===root.max){\r\n     \r\n             maxTable.push(n);\r\n            }\r\n     \r\n         }\r\n         console.log('&&&&&&&&&&&&&&&학점 우선 시간표&&&&&&&&&&&&&&');\r\n         for(let i=0;i<maxScoreTable.length;i++){\r\n     \r\n             let n=maxScoreTable[i];\r\n             let k=n.deep;\r\n             console.log('--------%d번째 시간표----------',i+1);\r\n             for(let j=0;j<k;j++){\r\n     \r\n                 console.log('%d:%s %s %d ',j+1,n.data.classname,n.data.profess,n.data.classscore);\r\n     \r\n                 n=n.adault;\r\n             }\r\n     \r\n             console.log('[총 %d학점]',root.maxScore);\r\n             console.log('---------------------------');\r\n     \r\n         }\r\n     \r\n     \r\n         console.log('&&&&&&&&&&&&&&&과목개수 우선 시간표&&&&&&&&&&&&&&');\r\n     \r\n        for(let i=0;i<maxTable.length;i++)\r\n        {\r\n            let n=maxTable[i];\r\n            let a=n.score;\r\n            console.log('--------%d번째 시간표----------',i+1);\r\n             for(let j=0;j<root.max;j++)\r\n             {   \r\n                \r\n                 console.log('%d:%s %s %d',j+1 ,n.data.classname,n.data.profess,n.data.classscore);\r\n                 n=n.adault;\r\n     \r\n             }\r\n             console.log('[총%d학점]',a);\r\n             console.log('---------------------------');\r\n        }\r\n        \r\n        let a=maxTable[0];\r\n        let bb=[];\r\n        for(let i=0;i<root.max;i++){\r\n\r\n            bb.push(a.data);\r\n            a=a.adault;\r\n\r\n\r\n        }\r\n        makingDrawList(bb);\r\n\r\n\r\n     };\r\n\r\n     \r\n\r\n\r\n    return (\r\n        <Graph onCalculate={onCalculate}\r\n            TdrawList={TdrawList}\r\n            Delete={Delete}\r\n            makingdrawList={makingdrawList}\r\n            >\r\n\r\n            </Graph>\r\n    );\r\n\r\n\r\n};\r\n\r\n\r\nexport default GraphContainer;"]},"metadata":{},"sourceType":"module"}